function weight(x){ return 2097152 * x.network_depth + 256 * x.total_gates + 256 * x.network_size + x.preprocess_weight;}var pre_profile = { 'code':
{"source_file":"// ZYNCX Encrypted Instructions for Arcium MXE\n// These Arcis circuits define confidential computations processed by Arcium nodes\n\nuse arcis::*;\n\n#[encrypted]\nmod circuits {\n    use arcis::*;\n\n    // ============================================================================\n    // STRUCT DEFINITIONS (must use #[derive(Copy, Clone)])\n    // ============================================================================\n\n    // Input for confidential swap validation\n    #[derive(Copy, Clone)]\n    pub struct ConfidentialSwapInput {\n        pub min_price: u64,\n        pub max_slippage: u16,\n        pub current_price: u64,\n        pub amount: u64,\n    }\n\n    // Output for confidential swap\n    #[derive(Copy, Clone)]\n    pub struct ConfidentialSwapOutput {\n        pub should_execute: bool,\n        pub min_output: u64,\n    }\n\n    // Input for limit order validation\n    #[derive(Copy, Clone)]\n    pub struct LimitOrderInput {\n        pub target_price: u64,\n        pub is_buy: bool,\n        pub current_price: u64,\n        pub amount: u64,\n    }\n\n    // Output for limit order\n    #[derive(Copy, Clone)]\n    pub struct LimitOrderOutput {\n        pub should_fill: bool,\n        pub execution_price: u64,\n    }\n\n    // Input for DCA (Dollar Cost Averaging) validation\n    #[derive(Copy, Clone)]\n    pub struct DCAInput {\n        pub max_price: u64,\n        pub current_price: u64,\n        pub amount_per_interval: u64,\n        pub interval_index: u32,\n        pub total_intervals: u32,\n    }\n\n    // Output for DCA execution\n    #[derive(Copy, Clone)]\n    pub struct DCAOutput {\n        pub should_execute: bool,\n        pub swap_amount: u64,\n        pub remaining_intervals: u32,\n    }\n\n    // Input for balance verification\n    #[derive(Copy, Clone)]\n    pub struct BalanceCheckInput {\n        pub encrypted_balance: u64,\n        pub required_amount: u64,\n    }\n\n    // ============================================================================\n    // HELPER FUNCTIONS (non-MPC, can be unit tested)\n    // ============================================================================\n\n    pub fn calculate_min_output(amount: u64, price: u64, slippage_bps: u16) -> u64 {\n        let expected = (amount as u128 * price as u128) / 1_000_000_000;\n        let factor = 10000 - slippage_bps as u128;\n        (expected * factor / 10000) as u64\n    }\n\n    // ============================================================================\n    // ENCRYPTED INSTRUCTIONS (require MPC)\n    // ============================================================================\n\n    // Validates swap conditions without revealing trading bounds\n    // Returns encrypted result that only the user can decrypt\n    #[instruction]\n    pub fn validate_confidential_swap(\n        input: Enc<Shared, ConfidentialSwapInput>,\n        current_price: u64  // Plaintext from Pyth oracle\n    ) -> Enc<Shared, ConfidentialSwapOutput> {\n        let data = input.to_arcis();\n        \n        // Check if current price meets minimum price requirement\n        let price_ok = current_price >= data.min_price;\n        \n        // Calculate minimum output with slippage protection\n        let min_output = calculate_min_output(data.amount, current_price, data.max_slippage);\n        \n        let result = ConfidentialSwapOutput {\n            should_execute: price_ok,\n            min_output,\n        };\n        \n        input.owner.from_arcis(result)\n    }\n\n    // Checks if limit order conditions are met\n    #[instruction]\n    pub fn check_limit_order(\n        input: Enc<Shared, LimitOrderInput>,\n        current_price: u64  // Plaintext market price\n    ) -> (bool, u64) {\n        let data = input.to_arcis();\n        \n        // For buy orders: execute if current price <= target price\n        // For sell orders: execute if current price >= target price\n        let should_fill = if data.is_buy {\n            current_price <= data.target_price\n        } else {\n            current_price >= data.target_price\n        };\n        \n        (should_fill.reveal(), current_price)\n    }\n\n    // Validates DCA execution conditions\n    #[instruction]\n    pub fn validate_dca_interval(\n        input: Enc<Shared, DCAInput>,\n        current_price: u64  // Plaintext market price\n    ) -> (bool, u64, u32) {\n        let data = input.to_arcis();\n        \n        // Check if we haven't exceeded total intervals\n        let intervals_ok = data.interval_index < data.total_intervals;\n        \n        // Check if price is acceptable\n        let price_ok = current_price <= data.max_price;\n        \n        let should_execute = intervals_ok && price_ok;\n        let remaining = data.total_intervals - data.interval_index - 1;\n        \n        (should_execute.reveal(), data.amount_per_interval.reveal(), remaining.reveal())\n    }\n\n    // Checks if user has sufficient balance without revealing actual balance\n    #[instruction]\n    pub fn verify_sufficient_balance(\n        input: Enc<Shared, BalanceCheckInput>,\n        required: u64  // Plaintext required amount\n    ) -> bool {\n        let data = input.to_arcis();\n        let has_sufficient = data.encrypted_balance >= required;\n        has_sufficient.reveal()\n    }\n}\n","code":[{"code":"self.owner","region":"Unknown"},{"code":"self.data","region":"Unknown"},{"code":"Self :: __arcis_inner(self.owner, self.data)","region":"Unknown"},{"code":"let data = input.to_arcis();","region":{"Known":[{"line":91,"column":8},{"line":91,"column":36}]}},{"code":"let price_ok = current_price >= data.min_price;","region":{"Known":[{"line":94,"column":8},{"line":94,"column":55}]}},{"code":"data.amount","region":{"Known":[{"line":97,"column":46},{"line":97,"column":57}]}},{"code":"current_price","region":{"Known":[{"line":97,"column":59},{"line":97,"column":72}]}},{"code":"data.max_slippage","region":{"Known":[{"line":97,"column":74},{"line":97,"column":91}]}},{"code":"amount as u128 * price as u128","region":{"Known":[{"line":75,"column":24},{"line":75,"column":54}]}},{"code":"let expected = (amount as u128 * price as u128) / 1_000_000_000;","region":{"Known":[{"line":75,"column":8},{"line":75,"column":72}]}},{"code":"let factor = 10000 - slippage_bps as u128;","region":{"Known":[{"line":76,"column":8},{"line":76,"column":50}]}},{"code":"expected * factor / 10000","region":{"Known":[{"line":77,"column":9},{"line":77,"column":34}]}},{"code":"(expected * factor / 10000) as u64","region":{"Known":[{"line":77,"column":8},{"line":77,"column":42}]}},{"code":"let min_output =\ncalculate_min_output(data.amount, current_price, data.max_slippage);","region":{"Known":[{"line":97,"column":8},{"line":97,"column":93}]}},{"code":"price_ok","region":{"Known":[{"line":100,"column":28},{"line":100,"column":36}]}},{"code":"min_output","region":{"Known":[{"line":101,"column":12},{"line":101,"column":22}]}},{"code":"let result = ConfidentialSwapOutput\n{ should_execute : price_ok, min_output, };","region":{"Known":[{"line":99,"column":8},{"line":102,"column":10}]}},{"code":"result","region":{"Known":[{"line":104,"column":31},{"line":104,"column":37}]}},{"code":"1","region":"Unknown"},{"code":"fn inner < T > (a : T, b : T) -> T { ((a + b) as ArcisField) as T }","region":"Unknown"},{"code":"self","region":"Unknown"},{"code":"other","region":"Unknown"},{"code":"a + b","region":"Unknown"},{"code":"(a + b) as ArcisField","region":"Unknown"},{"code":"((a + b) as ArcisField) as T","region":"Unknown"},{"code":"inner(self, other)","region":"Unknown"},{"code":"self.nonce = self.nonce.wrapping_add(1);","region":"Unknown"},{"code":"self","region":"Unknown"},{"code":"a","region":"Unknown"},{"code":"a","region":"Unknown"},{"code":"self.from_arcis_inner(a)","region":"Unknown"},{"code":"a","region":"Unknown"},{"code":"let phantom = [a; 0];","region":"Unknown"},{"code":"data","region":"Unknown"},{"code":"phantom","region":"Unknown"},{"code":"let data = EncData { data, phantom };","region":"Unknown"},{"code":"owner","region":"Unknown"},{"code":"data","region":"Unknown"},{"code":"Self { owner, data }","region":"Unknown"},{"code":"Enc :: new_inner(self, a, self.from_arcis_inner(a))","region":"Unknown"},{"code":"input.owner.from_arcis(result)","region":{"Known":[{"line":104,"column":8},{"line":104,"column":38}]}},{"code":"let data = input.to_arcis();","region":{"Known":[{"line":113,"column":8},{"line":113,"column":36}]}},{"code":"data.is_buy","region":{"Known":[{"line":117,"column":29},{"line":117,"column":40}]}},{"code":"current_price >= data.target_price","region":{"Known":[{"line":120,"column":12},{"line":120,"column":46}]}},{"code":"current_price <= data.target_price","region":{"Known":[{"line":118,"column":12},{"line":118,"column":46}]}},{"code":"let should_fill = if data.is_buy { current_price <= data.target_price } else\n{ current_price >= data.target_price };","region":{"Known":[{"line":117,"column":8},{"line":121,"column":10}]}},{"code":"should_fill.reveal()","region":{"Known":[{"line":123,"column":9},{"line":123,"column":29}]}},{"code":"current_price","region":{"Known":[{"line":123,"column":31},{"line":123,"column":44}]}},{"code":"(should_fill.reveal(), current_price)","region":{"Known":[{"line":123,"column":8},{"line":123,"column":45}]}},{"code":"let data = input.to_arcis();","region":{"Known":[{"line":132,"column":8},{"line":132,"column":36}]}},{"code":"let intervals_ok = data.interval_index < data.total_intervals;","region":{"Known":[{"line":135,"column":8},{"line":135,"column":70}]}},{"code":"let price_ok = current_price <= data.max_price;","region":{"Known":[{"line":138,"column":8},{"line":138,"column":55}]}},{"code":"let should_execute = intervals_ok && price_ok;","region":{"Known":[{"line":140,"column":8},{"line":140,"column":54}]}},{"code":"let remaining = data.total_intervals - data.interval_index - 1;","region":{"Known":[{"line":141,"column":8},{"line":141,"column":71}]}},{"code":"should_execute.reveal()","region":{"Known":[{"line":143,"column":9},{"line":143,"column":32}]}},{"code":"data.amount_per_interval.reveal()","region":{"Known":[{"line":143,"column":34},{"line":143,"column":67}]}},{"code":"remaining.reveal()","region":{"Known":[{"line":143,"column":69},{"line":143,"column":87}]}},{"code":"(should_execute.reveal(), data.amount_per_interval.reveal(),\nremaining.reveal())","region":{"Known":[{"line":143,"column":8},{"line":143,"column":88}]}},{"code":"let data = input.to_arcis();","region":{"Known":[{"line":152,"column":8},{"line":152,"column":36}]}},{"code":"let has_sufficient = data.encrypted_balance >= required;","region":{"Known":[{"line":153,"column":8},{"line":153,"column":64}]}},{"code":"has_sufficient.reveal()","region":{"Known":[{"line":154,"column":8},{"line":154,"column":31}]}}]}
, 'instructions':
{"validate_confidential_swap":{"profilees":[{"code_idx":0,"before_size_id":0,"after_size_id":0},{"code_idx":1,"before_size_id":0,"after_size_id":1},{"code_idx":2,"before_size_id":0,"after_size_id":2},{"code_idx":3,"before_size_id":0,"after_size_id":2},{"code_idx":4,"before_size_id":2,"after_size_id":3},{"code_idx":5,"before_size_id":3,"after_size_id":4},{"code_idx":6,"before_size_id":4,"after_size_id":4},{"code_idx":7,"before_size_id":4,"after_size_id":4},{"code_idx":8,"before_size_id":4,"after_size_id":5},{"code_idx":9,"before_size_id":4,"after_size_id":6},{"code_idx":10,"before_size_id":6,"after_size_id":7},{"code_idx":11,"before_size_id":7,"after_size_id":8},{"code_idx":12,"before_size_id":7,"after_size_id":9},{"code_idx":13,"before_size_id":3,"after_size_id":9},{"code_idx":14,"before_size_id":9,"after_size_id":9},{"code_idx":15,"before_size_id":9,"after_size_id":9},{"code_idx":16,"before_size_id":9,"after_size_id":9},{"code_idx":17,"before_size_id":9,"after_size_id":9},{"code_idx":18,"before_size_id":9,"after_size_id":9},{"code_idx":19,"before_size_id":9,"after_size_id":9},{"code_idx":20,"before_size_id":9,"after_size_id":9},{"code_idx":21,"before_size_id":9,"after_size_id":9},{"code_idx":22,"before_size_id":9,"after_size_id":10},{"code_idx":23,"before_size_id":9,"after_size_id":10},{"code_idx":24,"before_size_id":9,"after_size_id":11},{"code_idx":25,"before_size_id":9,"after_size_id":11},{"code_idx":26,"before_size_id":9,"after_size_id":11},{"code_idx":27,"before_size_id":11,"after_size_id":11},{"code_idx":28,"before_size_id":11,"after_size_id":11},{"code_idx":29,"before_size_id":11,"after_size_id":11},{"code_idx":30,"before_size_id":11,"after_size_id":12},{"code_idx":31,"before_size_id":12,"after_size_id":12},{"code_idx":32,"before_size_id":12,"after_size_id":12},{"code_idx":33,"before_size_id":12,"after_size_id":12},{"code_idx":34,"before_size_id":12,"after_size_id":12},{"code_idx":35,"before_size_id":12,"after_size_id":12},{"code_idx":36,"before_size_id":12,"after_size_id":12},{"code_idx":37,"before_size_id":12,"after_size_id":12},{"code_idx":38,"before_size_id":12,"after_size_id":12},{"code_idx":39,"before_size_id":11,"after_size_id":12},{"code_idx":40,"before_size_id":9,"after_size_id":12}]},"validate_dca_interval":{"profilees":[{"code_idx":0,"before_size_id":0,"after_size_id":0},{"code_idx":1,"before_size_id":0,"after_size_id":1},{"code_idx":2,"before_size_id":0,"after_size_id":2},{"code_idx":49,"before_size_id":0,"after_size_id":2},{"code_idx":50,"before_size_id":2,"after_size_id":3},{"code_idx":51,"before_size_id":3,"after_size_id":4},{"code_idx":52,"before_size_id":4,"after_size_id":5},{"code_idx":53,"before_size_id":5,"after_size_id":6},{"code_idx":54,"before_size_id":6,"after_size_id":7},{"code_idx":55,"before_size_id":7,"after_size_id":8},{"code_idx":56,"before_size_id":8,"after_size_id":9},{"code_idx":57,"before_size_id":6,"after_size_id":9}]},"check_limit_order":{"profilees":[{"code_idx":0,"before_size_id":0,"after_size_id":0},{"code_idx":1,"before_size_id":0,"after_size_id":1},{"code_idx":2,"before_size_id":0,"after_size_id":2},{"code_idx":41,"before_size_id":0,"after_size_id":2},{"code_idx":42,"before_size_id":2,"after_size_id":2},{"code_idx":43,"before_size_id":2,"after_size_id":3},{"code_idx":44,"before_size_id":3,"after_size_id":4},{"code_idx":45,"before_size_id":2,"after_size_id":5},{"code_idx":46,"before_size_id":5,"after_size_id":6},{"code_idx":47,"before_size_id":6,"after_size_id":6},{"code_idx":48,"before_size_id":5,"after_size_id":6}]},"verify_sufficient_balance":{"profilees":[{"code_idx":0,"before_size_id":0,"after_size_id":0},{"code_idx":1,"before_size_id":0,"after_size_id":1},{"code_idx":2,"before_size_id":0,"after_size_id":2},{"code_idx":58,"before_size_id":0,"after_size_id":2},{"code_idx":59,"before_size_id":2,"after_size_id":3},{"code_idx":60,"before_size_id":3,"after_size_id":4}]}}
, 'instruction_locations':
{"check_limit_order":{"Known":[{"line":108,"column":4},{"line":108,"column":18}]},"validate_confidential_swap":{"Known":[{"line":86,"column":4},{"line":86,"column":18}]},"verify_sufficient_balance":{"Known":[{"line":147,"column":4},{"line":147,"column":18}]},"validate_dca_interval":{"Known":[{"line":127,"column":4},{"line":127,"column":18}]}}
};
